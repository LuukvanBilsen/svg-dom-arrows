{"version":3,"sources":["webpack://SvgDomArrows/webpack/universalModuleDefinition","webpack://SvgDomArrows/webpack/bootstrap","webpack://SvgDomArrows/./src/consts/consts.ts","webpack://SvgDomArrows/./src/arrow/ends.ts","webpack://SvgDomArrows/./src/arrow/point.ts","webpack://SvgDomArrows/./src/arrow/path.ts","webpack://SvgDomArrows/./src/consts/default-marker.const.ts","webpack://SvgDomArrows/./src/utils/dom-utils.class.ts","webpack://SvgDomArrows/./src/arrow.class.ts","webpack://SvgDomArrows/./src/index.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","SVG_NS","DIRECTION","TOP_LEFT","TOP","TOP_RIGHT","RIGHT","BOTTOM_LEFT","BOTTOM","BOTTOM_RIGHT","LEFT","SHAPES","NORMAL","STRAIGHT_CURVED","point","endXY","rect","endNode","getBoundingClientRect","direction","x","y","width","height","Error","isFunction","node","functionToCheck","toString","pointToArray","pointBezier","viewport","translation","pointAbsolute","offset","subtrahend","pointSubstract","pathReducer","points","reducer","reduce","prev","curr","pathListBezier","from","to","pathXYPosition","Math","max","pathViewportFromAndTo","push","min","map","pathSubstractStartPosition","pathOffset","minPoint","prop","scroll","window","scrollX","scrollY","shapeApparence","startPosition","size","svgPath","middleX","middleY","smoothCurvesPathSVG","list","a","b","concat","join","replace","pathListSVG","ARROW_HEAD_SIZE","DEFAULT_MARKER","id","viewBox","refX","refY","markerWidth","markerHeight","orient","DEFAULT_MARKER_PATH","htmlToElements","html","template","document","createElement","innerHTML","content","childNodes","createMarkerElement","attributes","DomUtils","isDocument","marker","createElementNS","applyAttributesToElement","createPathElement","path","console","log","nodeType","element","keys","setAttribute","params","undefined","className","arrowPath","drawSvgContent","getNode","arrow","createSvg","pathArrow","floor","random","class","svgItem","appendChild","addMarkers","defsRef","svg","defs","style","left","top","position","arrowSettings","defaultMarker","markerStart","markerEnd"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SvgDomArrows\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SvgDomArrows\"] = factory();\n\telse\n\t\troot[\"SvgDomArrows\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const SVG_NS = 'http://www.w3.org/2000/svg';\r\n\r\nexport const ARROW_HEAD_SIZE = 10;\r\n\r\nexport const DIRECTION = {\r\n  TOP_LEFT: 'top-left',\r\n  TOP: 'top',\r\n  TOP_RIGHT: 'top-right',\r\n  RIGHT: 'right',\r\n  BOTTOM_LEFT: 'bottom-left',\r\n  BOTTOM: 'bottom',\r\n  BOTTOM_RIGHT: 'bottom-right',\r\n  LEFT: 'left',\r\n};\r\n\r\nexport const SHAPES = {\r\n  NORMAL: 'normal',\r\n  STRAIGHT_CURVED: 'straight-curved',\r\n};\r\n","import { DIRECTION } from '../consts/consts';\r\n\r\nexport class Ends {\r\n  constructor(point) {\r\n    return {\r\n      ...point,\r\n      ...this.endXY(point),\r\n    };\r\n  }\r\n\r\n  private endXY(point) {\r\n    const rect = this.endNode(point).getBoundingClientRect();\r\n    switch (point.direction) {\r\n    case DIRECTION.TOP_LEFT:\r\n      return {\r\n        x: rect.x,\r\n        y: rect.y,\r\n      };\r\n    case DIRECTION.TOP:\r\n      return {\r\n        x: rect.x + rect.width / 2,\r\n        y: rect.y,\r\n      };\r\n    case DIRECTION.TOP_RIGHT:\r\n      return {\r\n        x: rect.x + rect.width,\r\n        y: rect.y,\r\n      };\r\n    case DIRECTION.RIGHT:\r\n      return {\r\n        x: rect.x + rect.width,\r\n        y: rect.y + rect.height / 2,\r\n      };\r\n    case DIRECTION.BOTTOM_LEFT:\r\n      return {\r\n        x: rect.x,\r\n        y: rect.y + rect.height,\r\n      };\r\n    case DIRECTION.BOTTOM:\r\n      return {\r\n        x: rect.x + rect.width / 2,\r\n        y: rect.y + rect.height,\r\n      };\r\n    case DIRECTION.BOTTOM_RIGHT:\r\n      return {\r\n        x: rect.x + rect.width,\r\n        y: rect.y + rect.height,\r\n      };\r\n    case DIRECTION.LEFT:\r\n      return {\r\n        x: rect.x,\r\n        y: rect.y + rect.height / 2,\r\n      };\r\n    default:\r\n      throw new Error('unexpected type');\r\n    }\r\n  }\r\n\r\n  private endNode(point) {\r\n    return (this.isFunction(point.node) ? point.node() : point.node);\r\n  }\r\n\r\n  private isFunction(functionToCheck) {\r\n    return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\r\n  }\r\n}\r\n","export const pointToArray = (point) => ([\r\n  point.x,\r\n  point.y,\r\n]);\r\n\r\nexport const pointBezier = (point, viewport) => ({\r\n  x: point.x + viewport.width * point.translation[0],\r\n  y: point.y + viewport.height * point.translation[1],\r\n});\r\n","import { ARROW_HEAD_SIZE, SHAPES } from '../consts/consts';\r\nimport { pointToArray, pointBezier } from './point';\r\n\r\nexport const pointSubstract = (point, subtrahend) => ({\r\n  ...point,\r\n  x: point.x - subtrahend,\r\n  y: point.y - subtrahend,\r\n});\r\n\r\nexport const pointAbsolute = (point, offset) => pointSubstract(\r\n  {\r\n    ...point,\r\n    x: point.x - offset.x,\r\n    y: point.y - offset.y,\r\n  },\r\n  -ARROW_HEAD_SIZE * 2,\r\n);\r\n\r\nconst startPosition = (from, to) => ({\r\n  x: Math.min(from.x, to.x),\r\n  y: Math.min(from.y, to.y),\r\n});\r\n\r\nexport const pathListSVG = (points) => {\r\n  const list = ['M'];\r\n\r\n  list.push(pointToArray(points[0]).toString());\r\n  list.push('C');\r\n  list.push(pointToArray(points[1]).toString());\r\n  list.push(',');\r\n  list.push(pointToArray(points[2]).toString());\r\n  list.push(',');\r\n  list.push(pointToArray(points[3]).toString());\r\n\r\n  return (list).reduce( (a, b) => a.concat(b), []).join(' ').replace(/ ,/g, ',');\r\n};\r\n\r\nexport const smoothCurvesPathSVG = (from, to) => {\r\n  const middleX = (from.x - to.x) / 2;\r\n\r\n  const middleY = (from.y - to.y) / 2;\r\n\r\n  const root = `m ${to.x} ,${to.y} c ${middleX},0`;\r\n\r\n  const center = ` ${middleX},0 ${middleX},${middleY} 0,${middleY}`;\r\n\r\n  const end = ` 0,${middleY} ${middleX} ,${middleY}`;\r\n  return root + center + end;\r\n};\r\n\r\nconst pathViewportFromAndTo = ({ from, to, pathXYPosition }) => ({\r\n  width: Math.max(from.x, to.x) - pathXYPosition.x,\r\n  height: Math.max(from.y, to.y) - pathXYPosition.y,\r\n});\r\n\r\nconst pathReducer = (points, reducer) => points.reduce((prev, curr) => {\r\n  if (!prev) return curr;\r\n  return reducer(prev, curr);\r\n});\r\n\r\nconst pathSubstractStartPosition = (points) => {\r\n  const min = pathReducer(points, (prev, curr) => ({\r\n    x: Math.min(prev.x, curr.x),\r\n    y: Math.min(prev.y, curr.y),\r\n  }));\r\n\r\n  return points.map((point) => ({\r\n    ...point,\r\n    x: point.x - min.x + ARROW_HEAD_SIZE,\r\n    y: point.y - min.y + ARROW_HEAD_SIZE,\r\n  }));\r\n};\r\n\r\nconst pathListBezier = ({ from, to, pathXYPosition }) => {\r\n  const viewport = pathViewportFromAndTo({ from, to, pathXYPosition });\r\n\r\n  const points = [];\r\n  points.push(from);\r\n  points.push(pointBezier(from, viewport));\r\n  points.push(pointBezier(to, viewport));\r\n  points.push(to);\r\n\r\n  return pathSubstractStartPosition(points);\r\n};\r\n\r\nconst windowScroll = () => {\r\n  if (!window) return { scrollX: 0, scrollY: 0 };\r\n  return {\r\n    x: window.scrollX,\r\n    y: window.scrollY,\r\n  };\r\n};\r\n\r\nconst pathOffset = (points, pathXYPosition) => {\r\n  const minPoint = (prop) => Math.min(\r\n    points[0][prop] - ARROW_HEAD_SIZE,\r\n    points[3][prop] - ARROW_HEAD_SIZE,\r\n  );\r\n\r\n  const scroll = windowScroll();\r\n\r\n  return {\r\n    x: pathXYPosition.x - minPoint('x') - ARROW_HEAD_SIZE + scroll.x,\r\n    y: pathXYPosition.y - minPoint('y') - ARROW_HEAD_SIZE + scroll.y,\r\n  };\r\n};\r\n\r\nexport const path = (from, to, shapeApparence) => {\r\n  const pathXYPosition = startPosition(from, to);\r\n  const points = pathListBezier({\r\n    from: pointAbsolute(from, pathXYPosition),\r\n    to: pointAbsolute(to, pathXYPosition),\r\n    pathXYPosition,\r\n  });\r\n\r\n  const size = pathReducer(points, (prev, curr) => ({\r\n    x: Math.max(prev.x, curr.x),\r\n    y: Math.max(prev.y, curr.y),\r\n  }));\r\n\r\n  let angle = { };\r\n  let svgPath = '';\r\n  if (shapeApparence === SHAPES.STRAIGHT_CURVED) {\r\n    svgPath = smoothCurvesPathSVG(points[0], points[3]);\r\n  } else {\r\n    svgPath = pathListSVG(points);\r\n  }\r\n\r\n  return {\r\n    offset: pathOffset(points, pathXYPosition),\r\n    size: {\r\n      width: size.x + ARROW_HEAD_SIZE * 2,\r\n      height: size.y + ARROW_HEAD_SIZE * 2,\r\n    },\r\n    points: svgPath,\r\n  };\r\n};\r\n","import { MarkerAttributes } from \"../models/marker-attributes.model\";\r\nimport { PathAttributes } from \"../models/path-attributes.model\";\r\n\r\nexport const DEFAULT_MARKER: MarkerAttributes = {\r\n    id: 'arrow',\r\n    viewBox: '0 0 10 10',\r\n    refX: '5',\r\n    refY: '5',\r\n    markerWidth: '12',\r\n    markerHeight: '12',\r\n    orient: 'auto-start-reverse',\r\n}\r\n\r\nexport const DEFAULT_MARKER_PATH: PathAttributes = {\r\n    d: 'M 0 0 L 10 5 L 0 10 z',\r\n}\r\n","import { SVG_NS } from './../consts/consts';\r\nimport { MarkerAttributes } from '../models/marker-attributes.model';\r\nimport { PathAttributes } from '../models/path-attributes.model';\r\n\r\n/**\r\n * This class is composed of static utility functions that lets the library make DOM manipulations without\r\n * adding a layer of complexity.\r\n */\r\nexport class DomUtils {\r\n    /**\r\n     * Converts a html string to HTML elements\r\n     * @param {String} HTML representing any number of sibling elements\r\n     * @return {NodeList} Generated array of ChildNodes from the inputted string\r\n    */\r\n    public static htmlToElements(html: string): NodeListOf<ChildNode> {\r\n        var template = document.createElement('template');\r\n        template.innerHTML = html;\r\n        return template.content.childNodes;\r\n    }\r\n\r\n    /**\r\n     * Creates an SVG Marker\r\n     * @param {string} innerXml the inner XML of the marker\r\n     */\r\n    public static createMarkerElement(attributes: MarkerAttributes): SVGMarkerElement {\r\n        DomUtils.isDocument();\r\n        const marker = document.createElementNS(SVG_NS, 'marker');\r\n        DomUtils.applyAttributesToElement(attributes, marker);\r\n        return marker;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {PathParams} attributes the usual attributes of an SVG path\r\n     */\r\n    public static createPathElement(attributes: PathAttributes): SVGPathElement {\r\n        DomUtils.isDocument();\r\n        const path = document.createElementNS(SVG_NS, 'path');\r\n        DomUtils.applyAttributesToElement(attributes, path);\r\n        console.log(path.nodeType)\r\n        return path;\r\n    }\r\n\r\n    public static applyAttributesToElement(attributes: MarkerAttributes|PathAttributes, element: SVGElement) {\r\n        if (attributes) {\r\n            Object.keys(attributes).map(key => element.setAttribute(key, attributes[key]));\r\n        }\r\n    }\r\n\r\n    public static isDocument(): void {\r\n        if (!document) {\r\n            throw Error('Document is not defined, this library works only on browser environnements.');\r\n        }\r\n    }\r\n}\r\n","import { Ends } from './arrow/ends';\r\nimport { path } from './arrow/path';\r\nimport { SVG_NS } from './consts/consts';\r\nimport { DEFAULT_MARKER, DEFAULT_MARKER_PATH } from './consts/default-marker.const';\r\nimport { ArrowParams } from './models/arrow-params.model';\r\nimport { ArrowPath } from './models/arrow-path.model';\r\nimport { DomUtils } from './utils/dom-utils.class';\r\n\r\nexport class Arrow {\r\n\r\n    private arrowPath: ArrowPath;\r\n    private node: ChildNode;\r\n\r\n    constructor(params: ArrowParams) {\r\n      if (params.className === undefined) {\r\n        throw new Error('You must define a className for the arrow.');\r\n      }\r\n      this.arrowPath = path(new Ends(params.from), new Ends(params.to), params.shapeApparence);\r\n      this.node = this.drawSvgContent(params, this.arrowPath, params.className);\r\n    }\r\n\r\n    public getNode(): ChildNode {\r\n      return this.node;\r\n    }\r\n\r\n    private drawSvgContent(params: ArrowParams, arrow, className: string): ChildNode {\r\n      const node = this.createSvg(arrow, className);\r\n\r\n      const pathArrow = DomUtils.createPathElement({\r\n        d: arrow.points,\r\n        id: `${className}__${Math.floor(Math.random() * 100)}`,\r\n        class: `${className}__path`\r\n      });\r\n      node.svgItem.appendChild(pathArrow);\r\n\r\n      this.addMarkers(params, pathArrow, node.defsRef);\r\n\r\n      return node.svgItem;\r\n    }\r\n\r\n    private createSvg(arrow, className: string): {\r\n        svgItem: SVGSVGElement;\r\n        defsRef: SVGDefsElement;\r\n    } {\r\n      const svg = document.createElementNS(SVG_NS, 'svg');\r\n      const defs = document.createElementNS(SVG_NS, 'defs');\r\n\r\n      svg.setAttribute('xmlns', SVG_NS);\r\n      svg.setAttribute('class', className);\r\n      svg.style.left = `${arrow.offset.x}px`;\r\n      svg.style.top = `${arrow.offset.y}px`;\r\n      svg.style.position = 'absolute';\r\n      svg.setAttribute('width', arrow.size.width);\r\n      svg.setAttribute('height', arrow.size.height);\r\n\r\n      defs.setAttribute('id', `defs__${className}`);\r\n\r\n      svg.appendChild(defs);\r\n\r\n      return {\r\n        svgItem: svg,\r\n        defsRef: defs\r\n      };\r\n    }\r\n\r\n    private addMarkers(params: ArrowParams, arrowPath: SVGPathElement, defsRef: SVGDefsElement) {\r\n      if (params.arrowSettings === undefined) {\r\n        const defaultMarker = DomUtils.createMarkerElement(DEFAULT_MARKER);\r\n        defaultMarker.appendChild(DomUtils.createPathElement(DEFAULT_MARKER_PATH));\r\n        defsRef.appendChild(defaultMarker);\r\n        arrowPath.setAttribute('marker-end', `url(#${DEFAULT_MARKER.id})`);\r\n        arrowPath.setAttribute('marker-start', `url(#${DEFAULT_MARKER.id})`);\r\n      } else {\r\n        if (params.arrowSettings.markerStart) {\r\n          const markerStart = params.arrowSettings.markerStart;\r\n          defsRef.appendChild(markerStart);\r\n          arrowPath.setAttribute('marker-start', `url(#${markerStart.id})`);\r\n        }\r\n        if (params.arrowSettings.markerEnd) {\r\n          const markerEnd = params.arrowSettings.markerEnd;\r\n          defsRef.appendChild(markerEnd);\r\n          arrowPath.setAttribute('marker-end', `url(#${markerEnd.id})`);\r\n        }\r\n      }\r\n    }\r\n}\r\n","export { Arrow } from './arrow.class';\r\nexport {DomUtils} from './utils/dom-utils.class';\r\nexport { DIRECTION, SHAPES } from './consts/consts';\r\n"],"sourceRoot":""}